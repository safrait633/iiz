import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';

const resources = {
  ru: { translation: {
    appTitle: 'HTML ИИ Анализатор - Медицинский Workflow',
    appSubtitle: 'Анализ через цепочку экспертов: Врач → Логист → Senior Developer',
    useMock: 'Использовать тестовые данные (выключите для реального ИИ анализа)',
    apiKey: 'Z.AI API Ключ:',
    dropTitle: 'Перетащите файл сюда или нажмите для выбора',
    dropSubtitle: 'Поддерживаются HTML, CSS, JS, JSON, XML, Markdown и другие текстовые форматы',
  onlyTextFiles: 'Поддерживаются только текстовые файлы кода',
  fileReadError: 'Ошибка чтения файла',
    analyzerTitle: 'HTML Анализатор форм',
    inputLabel: 'Введите HTML код для анализа:',
    placeholderHtml: 'Вставьте ваш HTML код здесь...',
    analyze: 'Анализировать',
    clear: 'Очистить',
    progressTitle: 'Прогресс Workflow:',
    sendToLogistic: 'Отправить логисту',
    sendToSenior: 'Отправить Senior Developer',
    finishWorkflow: 'Завершить workflow',
    toRevision: 'На доработку',
    sendRevision: 'Отправить на доработку',
    doctorTitle: 'Анализ врача-эксперта',
    logisticianTitle: 'Архитектор систем',
    seniorTitle: 'Senior Developer',
    copy: 'Копировать',
    downloadTxt: 'Скачать TXT',
    downloadJson: 'Скачать JSON',
    commentsLabel: 'Комментарии для доработки:',
    loading: 'Анализирую код...',
    errorTitle: 'Ошибка анализа',
    // Dashboard/status
    status: 'Состояние',
    role: 'Роль',
    step: 'Шаг',
    lastUpdate: 'Последнее действие',
    file: 'Файл',
    size: 'Размер',
    apiStatus: 'API',
    configured: 'настроено',
    notConfigured: 'не настроено',
    logout: 'Выйти',
    // Login
    loginTitle: 'Вход',
    username: 'Логин',
    password: 'Пароль',
    signIn: 'Войти',
    invalidCreds: 'Неверный логин или пароль',
    // ResultViewer sections
    forms: 'Формы',
    interactiveElements: 'Интерактивные элементы',
    suggestedScripts: 'Предложенные скрипты',
    recommendations: 'Рекомендации',
    formsNotFound: 'Формы не найдены',
    interactiveNotFound: 'Интерактивные элементы не найдены',
    scriptsEmpty: 'Предложенные скрипты отсутствуют',
    recommendationsEmpty: 'Рекомендации отсутствуют',
    interactions: 'Взаимодействия:',
    events: 'События:',
    formLabel: 'Форма: {{id}}',
    copyCode: 'Копировать код'
  } },
  en: { translation: {
    appTitle: 'HTML AI Analyzer - Medical Workflow',
    appSubtitle: 'Expert chain: Doctor → Logistician → Senior Developer',
    useMock: 'Use mock data (disable for real AI analysis)',
    apiKey: 'Z.AI API Key:',
    dropTitle: 'Drag a file here or click to choose',
    dropSubtitle: 'HTML, CSS, JS, JSON, XML, Markdown and other text formats are supported',
  onlyTextFiles: 'Only text-based code files are supported',
  fileReadError: 'File read error',
    analyzerTitle: 'HTML Form Analyzer',
    inputLabel: 'Enter HTML code for analysis:',
    placeholderHtml: 'Paste your HTML code here...',
    analyze: 'Analyze',
    clear: 'Clear',
    progressTitle: 'Workflow Progress:',
    sendToLogistic: 'Send to Logistician',
    sendToSenior: 'Send to Senior Developer',
    finishWorkflow: 'Finish workflow',
    toRevision: 'Request changes',
    sendRevision: 'Send revision',
    doctorTitle: 'Doctor expert analysis',
    logisticianTitle: 'Systems Architect',
    seniorTitle: 'Senior Developer',
    copy: 'Copy',
    downloadTxt: 'Download TXT',
    downloadJson: 'Download JSON',
    commentsLabel: 'Comments for revision:',
    loading: 'Analyzing code...',
    errorTitle: 'Analysis error',
    status: 'Status',
    role: 'Role',
    step: 'Step',
    lastUpdate: 'Last action',
    file: 'File',
    size: 'Size',
    apiStatus: 'API',
    configured: 'configured',
    notConfigured: 'not configured',
    logout: 'Log out',
    loginTitle: 'Sign in',
    username: 'Username',
    password: 'Password',
    signIn: 'Sign in',
    invalidCreds: 'Invalid username or password',
    // ResultViewer sections
    forms: 'Forms',
    interactiveElements: 'Interactive elements',
    suggestedScripts: 'Suggested scripts',
    recommendations: 'Recommendations',
    formsNotFound: 'No forms found',
    interactiveNotFound: 'No interactive elements found',
    scriptsEmpty: 'No suggested scripts',
    recommendationsEmpty: 'No recommendations',
    interactions: 'Interactions:',
    events: 'Events:',
    formLabel: 'Form: {{id}}',
    copyCode: 'Copy code'
  } },
  es: { translation: {
    appTitle: 'Analizador IA de HTML - Flujo Médico',
    appSubtitle: 'Cadena de expertos: Médico → Logista → Senior Developer',
    useMock: 'Usar datos de prueba (desactivar para análisis IA real)',
    apiKey: 'Z.AI API Key:',
    dropTitle: 'Arrastra un archivo aquí o haz clic para elegir',
    dropSubtitle: 'Se admiten HTML, CSS, JS, JSON, XML, Markdown y otros formatos de texto',
  onlyTextFiles: 'Solo se admiten archivos de código basados en texto',
  fileReadError: 'Error al leer el archivo',
    analyzerTitle: 'Analizador de Formularios HTML',
    inputLabel: 'Introduce código HTML para analizar:',
    placeholderHtml: 'Pega tu código HTML aquí...',
    analyze: 'Analizar',
    clear: 'Limpiar',
    progressTitle: 'Progreso del Workflow:',
    sendToLogistic: 'Enviar al Logista',
    sendToSenior: 'Enviar al Senior Developer',
    finishWorkflow: 'Finalizar workflow',
    toRevision: 'Para revisión',
    sendRevision: 'Enviar revisión',
    doctorTitle: 'Análisis médico experto',
    logisticianTitle: 'Arquitecto de Sistemas',
    seniorTitle: 'Senior Developer',
    copy: 'Copiar',
    downloadTxt: 'Descargar TXT',
    downloadJson: 'Descargar JSON',
    commentsLabel: 'Comentarios para revisión:',
    loading: 'Analizando código...',
    errorTitle: 'Error de análisis',
    status: 'Estado',
    role: 'Rol',
    step: 'Paso',
    lastUpdate: 'Última acción',
    file: 'Archivo',
    size: 'Tamaño',
    apiStatus: 'API',
    configured: 'configurado',
    notConfigured: 'no configurado',
    logout: 'Salir',
    loginTitle: 'Acceso',
    username: 'Usuario',
    password: 'Contraseña',
    signIn: 'Entrar',
    invalidCreds: 'Usuario o contraseña inválidos',
    // ResultViewer sections
    forms: 'Formularios',
    interactiveElements: 'Elementos interactivos',
    suggestedScripts: 'Scripts sugeridos',
    recommendations: 'Recomendaciones',
    formsNotFound: 'No se encontraron formularios',
    interactiveNotFound: 'No se encontraron elementos interactivos',
    scriptsEmpty: 'No hay scripts sugeridos',
    recommendationsEmpty: 'No hay recomendaciones',
    interactions: 'Interacciones:',
    events: 'Eventos:',
    formLabel: 'Formulario: {{id}}',
    copyCode: 'Copiar código'
  } }
};

const saved = typeof localStorage !== 'undefined' ? localStorage.getItem('lang') : null;

i18n
  .use(initReactI18next)
  .init({
    resources,
    lng: saved || 'ru',
    fallbackLng: 'en',
    interpolation: { escapeValue: false }
  });

export default i18n;
